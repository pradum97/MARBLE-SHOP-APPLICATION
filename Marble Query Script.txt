CREATE TABLE TBL_SHOP_DETAILS
(

    SHOP_NAME          VARCHAR(100) NOT NULL,
    SHOP_EMAIL         VARCHAR(100) NOT NULL,
    SHOP_PHONE         INTEGER      NOT NULL,
    SHOP_GST_ID        VARCHAR(100),
    SHOP_ADDRESS       VARCHAR(200) NOT NULL,
    SHOP_LOGO_IMG_PATH VARCHAR(1000)
)


CREATE TABLE TBL_MENU
(

    MENU_ID       SERIAL PRIMARY KEY,
    MENU_NAME     VARCHAR(30),
    MENU_LOCATION VARCHAR(10),
    MENU_ICON_PATH VARCHAR(500)

)

INSERT INTO TBL_MENU(MENU_ICON_PATH ,MENU_NAME, MENU_LOCATION)
VALUES ('home_icon.png','HOME', 'SIDE'),
       ('profile_ic.png','PROFILE', 'SIDE'),
       ('employ.png','USERS', 'SIDE'),
       ('settings_ic.png','SETTING', 'SIDE'),
       ('shop_icon.png','ALL PRODUCT', 'SIDE'),
       ('sell_ic.png','SELL PRODUCT', 'SIDE'),
       ('viewReport_icon.png','SELL REPORT', 'SIDE'),
       ('viewReport_icon.png','STOCK REPORT', 'SIDE'),
       ('add_icon.png','ADD PRODUCT', 'TOP')

CREATE TABLE TBL_USERS
(
    USER_ID        SERIAL PRIMARY KEY    NOT NULL,
    FIRST_NAME     VARCHAR(15)           NOT NULL,
    LAST_NAME      VARCHAR(15),
    USERNAME VARCHAR(100) NOT NULL ,
    GENDER         VARCHAR(6)            NOT NULL,
    ROLE           VARCHAR(20)           NOT NULL,
    EMAIL          VARCHAR(100)          NOT NULL,
    PHONE          bigint                NOT NULL,
    PASSWORD       VARCHAR(200)          NOT NULL,
    FULL_ADDRESS   VARCHAR(200),
    USER_IMG_PATH  VARCHAR(500),
    CREATED_TIME   timestamp DEFAULT CURRENT_TIMESTAMP,
    ACCOUNT_STATUS int       default '1' NOT NULL,
    MAC_ADDRESS    VARCHAR(30)           NOT NULL
)

CREATE TABLE TBLS_PRODUCT_MES_UNIT
(

    UNIT_CODE        SERIAL PRIMARY KEY NOT NULL,
    UNIT_NAME        VARCHAR(10)        NOT NULL,
    UNIT_DESCRIPTION VARCHAR(200)


)

INSERT INTO TBLS_PRODUCT_MES_UNIT (UNIT_NAME)
VALUES ('PCS'),
       ('PKT'),
       ('CM'),
       ('MM'),
       ('INCH'),
       ('FT')

CREATE TABLE TBL_FEEDBACK
(

    FEEDBACK_ID SERIAL PRIMARY KEY NOT NULL,
    FULL_NAME   VARCHAR(50)        NOT NULL,
    EMAIL       VARCHAR(200)       NOT NULL,
    PHONE       BIGINT             NOT NULL,
    SUBJECT     VARCHAR(200)       NOT NULL,
    MESSAGE     VARCHAR(1000)      NOT NULL,
    FEEDBACK    TIMESTAMP DEFAULT CURRENT_TIMESTAMP

)


CREATE TABLE THEME_SETTING
(

    THEME_ID          SERIAL PRIMARY KEY NOT NULL,
    THEME_NAME        VARCHAR(100)       NOT NULL,
    CONT_BG_COLOR     CHAR(10)           NOT NULL,
    BUTTON_BG_COLOR   CHAR(10)           NOT NULL,
    BUTTON_TEXT_COLOR CHAR(10)           NOT NULL,
    LABEL_BG_COLOR    CHAR(10)           NOT NULL,
    LABEL_TEXT_COLOR  CHAR(10)           NOT NULL,
    FONT_NAME         VARCHAR(50)        NOT NULL,
    IS_ACTIVE         INT DEFAULT 0      NOT NULL
)

CREATE TABLE TBL_COLOR
(

    COLOR_ID   SERIAL PRIMARY KEY NOT NULL,
    COLOR_CODE CHAR(10)           NOT NULL,
    COLOR_NAME CHAR(10)           NOT NULL
)

CREATE TABLE TBL_FONT
(

    FONT_ID     SERIAL PRIMARY KEY NOT NULL,
    FONT_NAME   VARCHAR(100)       NOT NULL,
    DESCRIPTION VARCHAR(200)
)

CREATE TABLE TBL_DISCOUNT
(

    DISCOUNT_ID   SERIAL PRIMARY KEY NOT NULL,
    DISCOUNT      NUMERIC            NOT NULL,
    DISCOUNT_TYPE VARCHAR(50)        NOT NULL,
    DESCRIPTION   VARCHAR(200)

)

CREATE TABLE TBL_PRODUCT_PROP
(

    PROP_ID            SERIAL PRIMARY KEY NOT NULL,
    PRODUCT_COLOR_CODE CHAR(10)           NOT NULL,
    PRODUCT_COLOR_NAME VARCHAR(50)        NOT NULL,
    PRODUCT_TYPE       VARCHAR(100)       NOT NULL,
    DESCRIPTION        VARCHAR(200)

)

CREATE TABLE TBL_PRODUCT_TAX
(

    TAX_ID      SERIAL PRIMARY KEY NOT NULL,
    SGST        NUMERIC            NOT NULL,
    CGST        NUMERIC            NOT NULL,
    IGST        NUMERIC            NOT NULL,
    DESCRIPTION VARCHAR(200)

)

CREATE TABLE TBL_ROLE
(

    ROLE_ID SERIAL PRIMARY KEY NOT NULL,
    ROLE    VARCHAR(50)

)

INSERT INTO TBL_ROLE (ROLE)
VALUES ('ADMIN'),
       ('MANAGER'),
       ('ASSISTANT MANAGER'),
       ('SELLER'),
       ('STOCKIST')

CREATE TABLE TBL_PRODUCTS
(
    PRODUCT_ID          SERIAL PRIMARY KEY NOT NULL,
    PRODUCT_NAME        VARCHAR(200)       NOT NULL,
    PRODUCT_DESCRIPTION VARCHAR(1000),
    PURCHASE_PRICE      NUMERIC            NOT NULL,
    PRODUCT_MRP         NUMERIC            NOT NULL,
    MIN_SELLING         NUMERIC            NOT NULL,
    DISCOUNT_ID         INTEGER            NOT NULL,
    TAX_ID              INTEGER            NOT NULL,
    PRODUCT_PROP_ID     INTEGER            NOT NULL,

    FOREIGN KEY (DISCOUNT_ID)
        REFERENCES TBL_DISCOUNT (DISCOUNT_ID),

    FOREIGN KEY (TAX_ID)
        REFERENCES TBL_PRODUCT_TAX (TAX_ID),

    FOREIGN KEY (PRODUCT_PROP_ID)
        REFERENCES TBL_PRODUCT_PROP (PROP_ID)

)

CREATE TABLE TBL_PRODUCT_IMG
(

    PRODUCT_ID       INTEGER      NOT NULL,
    PROP_ID          INTEGER      NOT NULL,
    PRODUCT_IMG_PATH VARCHAR(500) NOT NULL,
    DESCRIPTION      VARCHAR(200),

    FOREIGN KEY (PRODUCT_ID)
        REFERENCES TBL_PRODUCTS (PRODUCT_ID),
    FOREIGN KEY (PROP_ID)
        REFERENCES TBL_PRODUCT_PROP (PROP_ID)

)


CREATE TABLE TBL_PRODUCT_BILL
(

    BILL_ID        SERIAL PRIMARY KEY                  NOT NULL,
    BILL_DATE      TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    INVOICE_NUMBER INTEGER                             NOT NULL,
    INVOICE_PATH   VARCHAR(500)                        NOT NULL,
    SELLER_ID      INTEGER                             NOT NULL,
    DESCRIPTION    VARCHAR(200),
    FOREIGN KEY (SELLER_ID)
        REFERENCES TBL_USERS (USER_ID)
)

CREATE TABLE TBL_CART
(

    CART_ID      SERIAL PRIMARY KEY NOT NULL,
    PRODUCT_ID   INTEGER            NOT NULL,
    PRODUCT_NAME VARCHAR(200),
    QUANTITY     NUMERIC            NOT NULL,
    UNIT         VARCHAR(50),
    MRP          NUMERIC,
    TOTAL_MRP    NUMERIC            NOT NULL,
    SELLER_ID    INTEGER,

    FOREIGN KEY (PRODUCT_ID)
        REFERENCES TBL_PRODUCTS (PRODUCT_ID),
    FOREIGN KEY (SELLER_ID)
        REFERENCES TBL_USERS (USER_ID)
)

CREATE TABLE TBL_PRODUCT_STOCK
(

    PRODUCT_ID INTEGER       NOT NULL,
    PROP_ID    INTEGER       NOT NULL,
    LENGTH     NUMERIC       NOT NULL,
    WIDTH      NUMERIC       NOT NULL,
    QUANTITY   NUMERIC       NOT NULL,
    UNIT_CODE  INTEGER       NOT NULL,
    IS_ACTIVE  INT DEFAULT 1 NOT NULL,

    FOREIGN KEY (PRODUCT_ID)
        REFERENCES TBL_PRODUCTS (PRODUCT_ID),
    FOREIGN KEY (PROP_ID)
        REFERENCES TBL_PRODUCT_PROP (PROP_ID),

    FOREIGN KEY (UNIT_CODE)
        REFERENCES TBLS_PRODUCT_MES_UNIT (UNIT_CODE)
)

CREATE TABLE TBL_SELL_ITEM_MAIN
(

    SELL_ITEM_MAIN_ID  SERIAL PRIMARY KEY NOT NULL,
    CUSTOMER_NAME      VARCHAR(100)       NOT NULL,
    CUSTOMER_PHONE     VARCHAR(20),
    CUSTOMER_ADDRESS   VARCHAR(200),
    PRODUCT_AMOUNT     NUMERIC            NOT NULL,
    TAX                NUMERIC            NOT NULL,
    PRODUCT_NET_AMOUNT NUMERIC            NOT NULL,
    DUES_AMOUNT        NUMERIC            NOT NULL,
    PRODUCT_SALE_DATE  TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    SELLER_ID          INTEGER            NOT NULL,
    NOTES              VARCHAR(300),
    DESCRIPTION        VARCHAR(300),
    FOREIGN KEY (SELLER_ID)
        REFERENCES TBL_USERS (USER_ID)

)

CREATE TABLE TBL_SELL_ITEMS_DETAILS
(

    SELL_ITEM_DETAILS_ID SERIAL PRIMARY KEY NOT NULL,
    SELL_ITEM_MAIN_ID    INTEGER            NOT NULL,
    PRODUCT_ID           INTEGER            NOT NULL,
    PRODUCT_PROP_ID      INTEGER            NOT NULL,
    PRODUCT_NAME         VARCHAR(200),
    PRODUCT_MRP          NUMERIC            NOT NULL,
    PRODUCT_SELL_MRP     NUMERIC            NOT NULL,
    PRODUCT_QUANTITY     NUMERIC            NOT NULL,
    PRODUCT_DISCOUNT     NUMERIC            NOT NULL,

    FOREIGN KEY (SELL_ITEM_MAIN_ID)
        REFERENCES TBL_SELL_ITEM_MAIN (SELL_ITEM_MAIN_ID),

    FOREIGN KEY (PRODUCT_ID)
        REFERENCES TBL_PRODUCTS (PRODUCT_ID),

    FOREIGN KEY (PRODUCT_PROP_ID)
        REFERENCES TBL_PRODUCT_PROP (PROP_ID)


)

